<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>橋梁水情預警系統</title>
    <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="./images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/fontello/css/fontello.css">
    <link href="https://fonts.googleapis.com/css2?family=MuseoModerno:wght@800&family=Noto+Serif+TC:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://js.arcgis.com/4.15/esri/css/main.css">
    <script src="https://js.arcgis.com/4.15/"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>

    <script>
        var map;
        var view;
        var pointGraphic;
        var esri = require([
            "esri/Map",
            "esri/views/MapView",
            "esri/layers/WebTileLayer",
            "esri/layers/TileLayer",
            "esri/Basemap",
            "esri/layers/FeatureLayer",
            "esri/widgets/Search",
            "esri/Graphic",
            "esri/layers/GraphicsLayer",
            "esri/geometry/Point",
            "esri/geometry/Polygon",
            "esri/geometry/SpatialReference",
            "esri/widgets/ScaleBar",
            "esri/geometry/Extent"
        ], function (Map, MapView, WebTileLayer, TileLayer, Basemap, FeatureLayer, Search, Graphic, GraphicsLayer, Point, Polygon, SpatialReference, ScaleBar, Extent) {

            //加入底圖
            var mybasemap = new Basemap({
                baseLayers: [
                    new TileLayer({
                        url: "https://map.hl.gov.tw/arcgis/rest/services/HuBaseMap/MapServer",
                        title: "Basemap"
                    })
                ],
                title: "basemap",
                id: "basemap"
            });

            map = new Map({
                basemap: mybasemap
            });

            view = new MapView({
                container: "esri-map",
                map: map,
                extent: new Extent({
                    xmin: 300476,
                    ymin: 2647621,
                    xmax: 320849,
                    ymax: 2659315,
                    spatialReference: {
                        wkid: 3826
                    }
                }),
                zoom: 8

            });
            //view.goTo({                            // go to point with a custom animation duration
            //    target: {
            //        center: [315112, 2653340]
            //    },
            //    duration: 10000
            //});



            ////加入橋梁圖層
            //var BridgeLayer = new FeatureLayer({
            //    url: "https://map.hl.gov.tw/arcgis/rest/services/HLWarehouse/bridge/MapServer"
            //});

            //map.add(BridgeLayer);

            ////加入popup
            //var popupBridge = {
            //    "title": "{橋梁名稱}",
            //    "content": "<b>管理機關:</b> {管理機關}<br><b>轄下機關:</b> {轄下機關}<br><b>所在區鄉:</b> {所在區鄉}"
            //}

            //var Bridge = new FeatureLayer({
            //    url: "https://map.hl.gov.tw/arcgis/rest/services/HLWarehouse/bridge/MapServer/0",
            //    outFields: ["橋梁名稱", "管理機關", "轄下機關", "所在區鄉"],
            //    popupTemplate: popupBridge
            //});

            //map.add(Bridge);

            ////搜尋橋梁
            //var search = new Search({
            //    view: view
            //});

            //view.ui.add(search, "top-right");

            //search.sources.push({
            //    layer: BridgeLayer,
            //    searchFields: ["橋梁名稱"],
            //    displayField: "橋梁名稱",
            //    exactMatch: false,
            //    outFields: ["橋梁名稱", "轄下機關"],
            //    resultGraphicEnabled: true,
            //    name: "橋梁",
            //    placeholder: "請輸入欲搜尋之橋梁關鍵字",
            //    autoSelect: 1,

            //});


        });

    </script>
</head>

<body>
    <div id="main-frame">
        <div id="main-content">
            <div id="main-title">
                <h1>Alert system</h1>
                <div class="author">Made by yuan.</div>
            </div>
            <div id="main-list">
                <div class="list">
                    <div class="list__light list__light--red"></div>
                    <div class="list__content">
                        <div class="list__title">義式羅勒野菇</div>
                        <div class="list__text">好吃指數：70</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--orange"></div>
                    <div class="list__content">
                        <div class="list__title">墨西哥辣椒</div>
                        <div class="list__text">好吃指數：98</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
                <div class="list">
                    <div class="list__light list__light--green"></div>
                    <div class="list__content">
                        <div class="list__title">薑汁燒肉</div>
                        <div class="list__text">好吃指數：87</div>
                        <div class="list__btn icon-marker-1" onclick="invoke('義式羅勒野菇')"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="js/main.js"></script>
</body>

</html>